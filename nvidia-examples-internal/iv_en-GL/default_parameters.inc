#!/bin/bash

ITERATIONS=${ITERATIONS:-100}

WORKSPACE=${WORKSPACE:-"/workspace/"}

MODEL_NAME=${MODEL_NAME:-"en-GL"}
MODEL_PATH=${MODEL_PATH:-"${WORKSPACE}/models/iv/${MODEL_NAME}/"}

DATASET=${DATASET:-"${WORKSPACE}/datasets/iv/${MODEL_NAME}/"}

GPU=${GPU:-0}
GPU_THREADS=${GPU_THREADS:-4}
COPY_THREADS=${COPY_THREADS:-2}

USE_GPU=${USE_GPU:-1}
if [ $USE_GPU -eq 0 ]; then
  BEAM=${BEAM:-15}
else
  BEAM=${BEAM:-12}
fi

LATTICE_BEAM=${LATTICE_BEAM:-2.5}
MAX_ACTIVE=${MAX_ACTIVE:-20000}
MAIN_Q_CAPACITY=${MAIN_Q_CAPACITY:-50000}
AUX_Q_CAPACITY=${AUX_Q_CAPACITY:-400000}

MAX_BATCH_SIZE=${MAX_BATCH_SIZE:-100}
BATCH_DRAIN_SIZE=${BATCH_DRAIN_SIZE:-5}



